<!-- Thêm đoạn này vào phần <script> cũ, thay thế hàm updateTurn() -->

function updateTurn() {
  const isMy = myIndex === currentTurn;
  document.getElementById('playBtn').disabled = !isMy || selected.length === 0;
  document.getElementById('skipBtn').disabled = !isMy;

  if (isMy) {
    document.getElementById('status').innerHTML = '<strong style="color:gold;font-size:24px">ĐẾN LƯỢT BẠN – ĐÁNH ĐI!</strong>';
  } else {
    document.getElementById('status').innerHTML = `Đợi <strong>${players[currentTurn]}</strong> đánh...`;
  }

  // Cập nhật mũi tên lượt
  document.getElementById('players').innerHTML = players.map((n,i) => 
    `<p>${i===currentTurn ? '→' : '&nbsp;&nbsp;'} ${i+1}. ${n}</p>`
  ).join('');
}

// Thêm 2 listener mới
socket.on('turnChanged', data => {
  currentTurn = data.currentTurn;
  updateTurn();
});

socket.on('turnSkipped', data => {
  currentTurn = data.nextTurn;
  updateTurn();
});
